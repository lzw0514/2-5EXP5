2024-11-13 07:48:42.770 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-13 07:48:42.804 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Starting ProductDemoAOPApplication using Java 17.0.13 with PID 10820 (D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop\target\classes started by 44338 in D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop)
2024-11-13 07:48:42.804 [main] DEBUG c.e.x.j.productdemoaop.ProductDemoAOPApplication - Running with Spring Boot v3.1.4, Spring v6.0.12
2024-11-13 07:48:42.805 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-13 07:48:43.326 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 07:48:43.360 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 1 JPA repository interfaces.
2024-11-13 07:48:43.401 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'productRepository' and 'cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository' mapperInterface. Bean already defined with the same name!
2024-11-13 07:48:43.817 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-11-13 07:48:43.822 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-13 07:48:43.824 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 07:48:43.825 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2024-11-13 07:48:43.897 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 07:48:43.898 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1061 ms
2024-11-13 07:48:44.194 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-11-13 07:48:44.888 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 07:48:44.932 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2024-11-13 07:48:44.934 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-13 07:48:45.033 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 07:48:45.130 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 07:48:45.402 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 07:48:45.853 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-11-13 07:48:45.854 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 07:48:46.161 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 07:48:46.423 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 07:48:46.834 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 13 endpoint(s) beneath base path '/actuator'
2024-11-13 07:48:46.868 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-13 07:48:46.886 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-11-13 07:48:46.892 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Started ProductDemoAOPApplication in 4.32 seconds (process running for 4.653)
2024-11-13 07:48:53.940 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 07:48:53.940 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 07:48:53.941 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 07:50:02.228 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-13 07:50:02.257 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Starting ProductDemoAOPApplication using Java 17.0.13 with PID 9928 (D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop\target\classes started by 44338 in D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop)
2024-11-13 07:50:02.257 [main] DEBUG c.e.x.j.productdemoaop.ProductDemoAOPApplication - Running with Spring Boot v3.1.4, Spring v6.0.12
2024-11-13 07:50:02.257 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-13 07:50:02.703 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 07:50:02.734 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 1 JPA repository interfaces.
2024-11-13 07:50:02.771 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'productRepository' and 'cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository' mapperInterface. Bean already defined with the same name!
2024-11-13 07:50:03.125 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-11-13 07:50:03.129 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-13 07:50:03.131 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 07:50:03.131 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2024-11-13 07:50:03.188 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 07:50:03.188 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 904 ms
2024-11-13 07:50:03.422 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-11-13 07:50:04.113 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 07:50:04.143 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2024-11-13 07:50:04.144 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-13 07:50:04.216 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 07:50:04.289 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 07:50:04.540 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 07:50:04.942 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-11-13 07:50:04.944 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 07:50:05.236 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 07:50:05.477 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 07:50:05.815 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 13 endpoint(s) beneath base path '/actuator'
2024-11-13 07:50:05.844 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-13 07:50:05.857 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-11-13 07:50:05.864 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Started ProductDemoAOPApplication in 3.801 seconds (process running for 4.073)
2024-11-13 07:50:10.117 [http-nio-8080-exec-2] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 07:50:10.117 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 07:50:10.118 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 07:50:52.234 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-13 07:50:52.264 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Starting ProductDemoAOPApplication using Java 17.0.13 with PID 10120 (D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop\target\classes started by 44338 in D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop)
2024-11-13 07:50:52.264 [main] DEBUG c.e.x.j.productdemoaop.ProductDemoAOPApplication - Running with Spring Boot v3.1.4, Spring v6.0.12
2024-11-13 07:50:52.264 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-13 07:50:52.716 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 07:50:52.746 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 1 JPA repository interfaces.
2024-11-13 07:50:52.784 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'productRepository' and 'cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository' mapperInterface. Bean already defined with the same name!
2024-11-13 07:50:53.147 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-11-13 07:50:53.152 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-13 07:50:53.153 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 07:50:53.153 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2024-11-13 07:50:53.210 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 07:50:53.211 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 920 ms
2024-11-13 07:50:53.449 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-11-13 07:50:54.144 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 07:50:54.172 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2024-11-13 07:50:54.174 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-13 07:50:54.243 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 07:50:54.310 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 07:50:54.561 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 07:50:54.950 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-11-13 07:50:54.952 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 07:50:55.235 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 07:50:55.469 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 07:50:55.800 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 13 endpoint(s) beneath base path '/actuator'
2024-11-13 07:50:55.829 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-13 07:50:55.841 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-11-13 07:50:55.849 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Started ProductDemoAOPApplication in 3.792 seconds (process running for 4.081)
2024-11-13 07:51:02.275 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 07:51:02.275 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 07:51:02.277 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 07:51:27.012 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-13 07:51:27.041 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Starting ProductDemoAOPApplication using Java 17.0.13 with PID 9664 (D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop\target\classes started by 44338 in D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop)
2024-11-13 07:51:27.042 [main] DEBUG c.e.x.j.productdemoaop.ProductDemoAOPApplication - Running with Spring Boot v3.1.4, Spring v6.0.12
2024-11-13 07:51:27.042 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-13 07:51:27.494 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 07:51:27.525 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 1 JPA repository interfaces.
2024-11-13 07:51:27.562 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'productRepository' and 'cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository' mapperInterface. Bean already defined with the same name!
2024-11-13 07:51:27.931 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-11-13 07:51:27.936 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-13 07:51:27.937 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 07:51:27.938 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2024-11-13 07:51:27.995 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 07:51:27.996 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 926 ms
2024-11-13 07:51:28.232 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-11-13 07:51:28.872 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 07:51:28.899 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2024-11-13 07:51:28.900 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-13 07:51:28.970 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 07:51:29.039 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 07:51:29.283 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 07:51:29.675 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-11-13 07:51:29.676 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 07:51:29.955 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 07:51:30.186 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 07:51:30.517 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 13 endpoint(s) beneath base path '/actuator'
2024-11-13 07:51:30.546 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-13 07:51:30.559 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-11-13 07:51:30.566 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Started ProductDemoAOPApplication in 3.722 seconds (process running for 3.991)
2024-11-13 07:51:36.073 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 07:51:36.073 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 07:51:36.074 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 07:51:50.335 [http-nio-8080-exec-4] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 07:51:50.347 [http-nio-8080-exec-4] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 欢乐家岭南杂果罐头(String)
2024-11-13 07:51:50.411 [http-nio-8080-exec-4] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 1
2024-11-13 07:51:50.415 [http-nio-8080-exec-4] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `product_id`, `price`, `begin_time`, `end_time`, `quantity`, `type`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `max_quantity`, `invalid` FROM goods_onsale WHERE ((`product_id` = ? and `begin_time` <= ? and `end_time` >= ?)) ORDER BY end_time DESC
2024-11-13 07:51:50.416 [http-nio-8080-exec-4] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - ==> Parameters: 1553(Long), 2024-11-13T07:51:50.412455600(LocalDateTime), 2024-11-13T07:51:50.412455600(LocalDateTime)
2024-11-13 07:51:50.464 [http-nio-8080-exec-4] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - <==      Total: 1
2024-11-13 07:51:50.466 [http-nio-8080-exec-4] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`goods_id` = ? and `id` <> ?))
2024-11-13 07:51:50.466 [http-nio-8080-exec-4] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 12(Long), 1553(Long)
2024-11-13 07:51:50.525 [http-nio-8080-exec-4] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 14
2024-11-13 07:51:54.492 [http-nio-8080-exec-3] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 07:51:54.493 [http-nio-8080-exec-3] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 欢乐家岭南杂果罐头(String)
2024-11-13 07:51:54.545 [http-nio-8080-exec-3] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 1
2024-11-13 07:51:54.546 [http-nio-8080-exec-3] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `product_id`, `price`, `begin_time`, `end_time`, `quantity`, `type`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `max_quantity`, `invalid` FROM goods_onsale WHERE ((`product_id` = ? and `begin_time` <= ? and `end_time` >= ?)) ORDER BY end_time DESC
2024-11-13 07:51:54.547 [http-nio-8080-exec-3] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - ==> Parameters: 1553(Long), 2024-11-13T07:51:54.546898900(LocalDateTime), 2024-11-13T07:51:54.546898900(LocalDateTime)
2024-11-13 07:51:54.595 [http-nio-8080-exec-3] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - <==      Total: 1
2024-11-13 07:51:54.597 [http-nio-8080-exec-3] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`goods_id` = ? and `id` <> ?))
2024-11-13 07:51:54.598 [http-nio-8080-exec-3] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 12(Long), 1553(Long)
2024-11-13 07:51:54.650 [http-nio-8080-exec-3] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 14
2024-11-13 07:52:28.151 [http-nio-8080-exec-6] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 07:52:28.152 [http-nio-8080-exec-6] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==> Parameters: 雪碧(String)
2024-11-13 07:52:28.201 [http-nio-8080-exec-6] DEBUG c.e.x.j.p.m.m.P.selectLastOnSaleByProductId - ====>  Preparing: select `id`, `product_id`, `price`, `begin_time`, `end_time`, `quantity`, `max_quantity`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified` from goods_onsale where `product_id` = ? and `begin_time` <= NOW() and `end_time` > NOW()
2024-11-13 07:52:28.202 [http-nio-8080-exec-6] DEBUG c.e.x.j.p.m.m.P.selectLastOnSaleByProductId - ====> Parameters: 2619(Long)
2024-11-13 07:52:28.248 [http-nio-8080-exec-6] DEBUG c.e.x.j.p.m.m.P.selectLastOnSaleByProductId - <====      Total: 1
2024-11-13 07:52:28.249 [http-nio-8080-exec-6] DEBUG c.e.x.j.p.m.m.ProductAllMapper.selectOtherProduct - ====>  Preparing: select `id`, `goods_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified` from goods_product where `goods_id` = ?
2024-11-13 07:52:28.250 [http-nio-8080-exec-6] DEBUG c.e.x.j.p.m.m.ProductAllMapper.selectOtherProduct - ====> Parameters: 13(Long)
2024-11-13 07:52:28.299 [http-nio-8080-exec-6] DEBUG c.e.x.j.p.m.m.ProductAllMapper.selectOtherProduct - <====      Total: 8
2024-11-13 07:52:28.300 [http-nio-8080-exec-6] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - <==      Total: 1
2024-11-13 10:41:33.095 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-13 10:41:33.130 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Starting ProductDemoAOPApplication using Java 17.0.13 with PID 9708 (D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop\target\classes started by 44338 in D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop)
2024-11-13 10:41:33.131 [main] DEBUG c.e.x.j.productdemoaop.ProductDemoAOPApplication - Running with Spring Boot v3.1.4, Spring v6.0.12
2024-11-13 10:41:33.131 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-13 10:41:33.644 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 10:41:33.678 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 1 JPA repository interfaces.
2024-11-13 10:41:33.719 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'productRepository' and 'cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository' mapperInterface. Bean already defined with the same name!
2024-11-13 10:41:34.121 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-11-13 10:41:34.127 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-13 10:41:34.129 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 10:41:34.129 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2024-11-13 10:41:34.201 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 10:41:34.201 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1041 ms
2024-11-13 10:41:34.452 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-11-13 10:41:35.185 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 10:41:35.224 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2024-11-13 10:41:35.226 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-13 10:41:35.315 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 10:41:35.397 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 10:41:35.675 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 10:41:36.100 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-11-13 10:41:36.102 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:41:36.411 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 10:41:36.596 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminProductController' defined in file [D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop\target\classes\cn\edu\xmu\javaee\productdemoaop\controller\AdminProductController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productService' defined in file [D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop\target\classes\cn\edu\xmu\javaee\productdemoaop\service\ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productDao' defined in file [D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop\target\classes\cn\edu\xmu\javaee\productdemoaop\dao\ProductDao.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'productRepository' defined in cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository.findOtherProductsByGoodsId(java.lang.Long,java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository.findOtherProductsByGoodsId(java.lang.Long,java.lang.Long)
2024-11-13 10:41:36.598 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:41:36.599 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-11-13 10:41:36.600 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-11-13 10:41:36.601 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-13 10:41:36.622 [main] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-13 10:41:36.634 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminProductController' defined in file [D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop\target\classes\cn\edu\xmu\javaee\productdemoaop\controller\AdminProductController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productService' defined in file [D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop\target\classes\cn\edu\xmu\javaee\productdemoaop\service\ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productDao' defined in file [D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop\target\classes\cn\edu\xmu\javaee\productdemoaop\dao\ProductDao.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'productRepository' defined in cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository.findOtherProductsByGoodsId(java.lang.Long,java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository.findOtherProductsByGoodsId(java.lang.Long,java.lang.Long)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298)
	at cn.edu.xmu.javaee.productdemoaop.ProductDemoAOPApplication.main(ProductDemoAOPApplication.java:13)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productService' defined in file [D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop\target\classes\cn\edu\xmu\javaee\productdemoaop\service\ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productDao' defined in file [D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop\target\classes\cn\edu\xmu\javaee\productdemoaop\dao\ProductDao.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'productRepository' defined in cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository.findOtherProductsByGoodsId(java.lang.Long,java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository.findOtherProductsByGoodsId(java.lang.Long,java.lang.Long)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:910)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productDao' defined in file [D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop\target\classes\cn\edu\xmu\javaee\productdemoaop\dao\ProductDao.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'productRepository' defined in cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository.findOtherProductsByGoodsId(java.lang.Long,java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository.findOtherProductsByGoodsId(java.lang.Long,java.lang.Long)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:910)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 33 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository.findOtherProductsByGoodsId(java.lang.Long,java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository.findOtherProductsByGoodsId(java.lang.Long,java.lang.Long)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:910)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 47 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository.findOtherProductsByGoodsId(java.lang.Long,java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository.findOtherProductsByGoodsId(java.lang.Long,java.lang.Long)
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:245)
	at org.springframework.data.util.Lazy.get(Lazy.java:114)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 58 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository.findOtherProductsByGoodsId(java.lang.Long,java.lang.Long)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:100)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:70)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:60)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:170)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)
	... 70 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.sqm.ParsingException: line 1:29 mismatched input 'p' expecting {<EOF>, ',', FROM, GROUP, ORDER, WHERE}
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:162)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:168)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:795)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:704)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:120)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)
	at jdk.proxy2/jdk.proxy2.$Proxy160.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94)
	... 76 common frames omitted
Caused by: org.hibernate.query.sqm.ParsingException: line 1:29 mismatched input 'p' expecting {<EOF>, ',', FROM, GROUP, ORDER, WHERE}
	at org.hibernate.query.hql.internal.StandardHqlTranslator$1.syntaxError(StandardHqlTranslator.java:46)
	at org.antlr.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41)
	at org.antlr.v4.runtime.Parser.notifyErrorListeners(Parser.java:543)
	at org.antlr.v4.runtime.DefaultErrorStrategy.reportInputMismatch(DefaultErrorStrategy.java:327)
	at org.antlr.v4.runtime.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:139)
	at org.hibernate.grammars.hql.HqlParser.statement(HqlParser.java:361)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:127)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:77)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:165)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:147)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:741)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:786)
	... 85 common frames omitted
2024-11-13 10:44:37.529 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-13 10:44:37.559 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Starting ProductDemoAOPApplication using Java 17.0.13 with PID 2556 (D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop\target\classes started by 44338 in D:\Learning\code\JavaEEPlatform\7.SpringAOP\productdemoaop)
2024-11-13 10:44:37.559 [main] DEBUG c.e.x.j.productdemoaop.ProductDemoAOPApplication - Running with Spring Boot v3.1.4, Spring v6.0.12
2024-11-13 10:44:37.560 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-13 10:44:38.008 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 10:44:38.039 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 1 JPA repository interfaces.
2024-11-13 10:44:38.075 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'productRepository' and 'cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository' mapperInterface. Bean already defined with the same name!
2024-11-13 10:44:38.431 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-11-13 10:44:38.436 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-13 10:44:38.437 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 10:44:38.438 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2024-11-13 10:44:38.497 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 10:44:38.497 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 912 ms
2024-11-13 10:44:38.721 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-11-13 10:44:39.397 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 10:44:39.425 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2024-11-13 10:44:39.426 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-13 10:44:39.498 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 10:44:39.568 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 10:44:39.822 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 10:44:40.211 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-11-13 10:44:40.213 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 10:44:40.497 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 10:44:40.740 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 10:44:41.103 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 13 endpoint(s) beneath base path '/actuator'
2024-11-13 10:44:41.133 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-13 10:44:41.151 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-11-13 10:44:41.158 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Started ProductDemoAOPApplication in 3.808 seconds (process running for 4.089)
2024-11-13 10:44:53.893 [http-nio-8080-exec-2] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 10:44:53.893 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 10:44:53.894 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 10:44:54.032 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.barcode,p1_0.commission_ratio,p1_0.creator_id,p1_0.creator_name,p1_0.free_threshold,p1_0.gmt_create,p1_0.gmt_modified,p1_0.goods_id,p1_0.modifier_id,p1_0.modifier_name,p1_0.name,p1_0.origin_place,p1_0.original_price,p1_0.sku_sn,p1_0.status,p1_0.unit,p1_0.weight from goods_product p1_0 where p1_0.name like ? escape ''
2024-11-13 10:44:54.112 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.product_id,o1_0.id,o1_0.begin_time,o1_0.creator_id,o1_0.creator_name,o1_0.end_time,o1_0.gmt_create,o1_0.gmt_modified,o1_0.max_quantity,o1_0.modifier_id,o1_0.modifier_name,o1_0.price,o1_0.quantity from goods_onsale o1_0 where o1_0.product_id=?
2024-11-13 10:44:54.164 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.goods_id,o1_0.id,o1_0.barcode,o1_0.commission_ratio,o1_0.creator_id,o1_0.creator_name,o1_0.free_threshold,o1_0.gmt_create,o1_0.gmt_modified,o1_0.modifier_id,o1_0.modifier_name,o1_0.name,o1_0.origin_place,o1_0.original_price,o1_0.sku_sn,o1_0.status,o1_0.unit,o1_0.weight from goods_product o1_0 where o1_0.goods_id=?
2024-11-13 10:44:54.223 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.barcode,p1_0.commission_ratio,p1_0.creator_id,p1_0.creator_name,p1_0.free_threshold,p1_0.gmt_create,p1_0.gmt_modified,p1_0.goods_id,p1_0.modifier_id,p1_0.modifier_name,p1_0.name,p1_0.origin_place,p1_0.original_price,p1_0.sku_sn,p1_0.status,p1_0.unit,p1_0.weight from goods_product p1_0 where p1_0.goods_id=? and p1_0.id!=?
2024-11-13 10:44:54.276 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.goods_id,o1_0.id,o1_0.barcode,o1_0.commission_ratio,o1_0.creator_id,o1_0.creator_name,o1_0.free_threshold,o1_0.gmt_create,o1_0.gmt_modified,o1_0.modifier_id,o1_0.modifier_name,o1_0.name,o1_0.origin_place,o1_0.original_price,o1_0.sku_sn,o1_0.status,o1_0.unit,o1_0.weight from goods_product o1_0 where o1_0.goods_id=?
2024-11-13 10:44:54.325 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.goods_id,o1_0.id,o1_0.barcode,o1_0.commission_ratio,o1_0.creator_id,o1_0.creator_name,o1_0.free_threshold,o1_0.gmt_create,o1_0.gmt_modified,o1_0.modifier_id,o1_0.modifier_name,o1_0.name,o1_0.origin_place,o1_0.original_price,o1_0.sku_sn,o1_0.status,o1_0.unit,o1_0.weight from goods_product o1_0 where o1_0.goods_id=?
2024-11-13 10:44:54.375 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.goods_id,o1_0.id,o1_0.barcode,o1_0.commission_ratio,o1_0.creator_id,o1_0.creator_name,o1_0.free_threshold,o1_0.gmt_create,o1_0.gmt_modified,o1_0.modifier_id,o1_0.modifier_name,o1_0.name,o1_0.origin_place,o1_0.original_price,o1_0.sku_sn,o1_0.status,o1_0.unit,o1_0.weight from goods_product o1_0 where o1_0.goods_id=?
2024-11-13 10:44:54.425 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.goods_id,o1_0.id,o1_0.barcode,o1_0.commission_ratio,o1_0.creator_id,o1_0.creator_name,o1_0.free_threshold,o1_0.gmt_create,o1_0.gmt_modified,o1_0.modifier_id,o1_0.modifier_name,o1_0.name,o1_0.origin_place,o1_0.original_price,o1_0.sku_sn,o1_0.status,o1_0.unit,o1_0.weight from goods_product o1_0 where o1_0.goods_id=?
2024-11-13 10:44:54.475 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.goods_id,o1_0.id,o1_0.barcode,o1_0.commission_ratio,o1_0.creator_id,o1_0.creator_name,o1_0.free_threshold,o1_0.gmt_create,o1_0.gmt_modified,o1_0.modifier_id,o1_0.modifier_name,o1_0.name,o1_0.origin_place,o1_0.original_price,o1_0.sku_sn,o1_0.status,o1_0.unit,o1_0.weight from goods_product o1_0 where o1_0.goods_id=?
2024-11-13 10:44:54.526 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.goods_id,o1_0.id,o1_0.barcode,o1_0.commission_ratio,o1_0.creator_id,o1_0.creator_name,o1_0.free_threshold,o1_0.gmt_create,o1_0.gmt_modified,o1_0.modifier_id,o1_0.modifier_name,o1_0.name,o1_0.origin_place,o1_0.original_price,o1_0.sku_sn,o1_0.status,o1_0.unit,o1_0.weight from goods_product o1_0 where o1_0.goods_id=?
2024-11-13 10:44:54.576 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.goods_id,o1_0.id,o1_0.barcode,o1_0.commission_ratio,o1_0.creator_id,o1_0.creator_name,o1_0.free_threshold,o1_0.gmt_create,o1_0.gmt_modified,o1_0.modifier_id,o1_0.modifier_name,o1_0.name,o1_0.origin_place,o1_0.original_price,o1_0.sku_sn,o1_0.status,o1_0.unit,o1_0.weight from goods_product o1_0 where o1_0.goods_id=?
2024-11-13 10:44:54.626 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.goods_id,o1_0.id,o1_0.barcode,o1_0.commission_ratio,o1_0.creator_id,o1_0.creator_name,o1_0.free_threshold,o1_0.gmt_create,o1_0.gmt_modified,o1_0.modifier_id,o1_0.modifier_name,o1_0.name,o1_0.origin_place,o1_0.original_price,o1_0.sku_sn,o1_0.status,o1_0.unit,o1_0.weight from goods_product o1_0 where o1_0.goods_id=?
2024-11-13 10:44:54.674 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.goods_id,o1_0.id,o1_0.barcode,o1_0.commission_ratio,o1_0.creator_id,o1_0.creator_name,o1_0.free_threshold,o1_0.gmt_create,o1_0.gmt_modified,o1_0.modifier_id,o1_0.modifier_name,o1_0.name,o1_0.origin_place,o1_0.original_price,o1_0.sku_sn,o1_0.status,o1_0.unit,o1_0.weight from goods_product o1_0 where o1_0.goods_id=?
2024-11-13 10:44:54.723 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.goods_id,o1_0.id,o1_0.barcode,o1_0.commission_ratio,o1_0.creator_id,o1_0.creator_name,o1_0.free_threshold,o1_0.gmt_create,o1_0.gmt_modified,o1_0.modifier_id,o1_0.modifier_name,o1_0.name,o1_0.origin_place,o1_0.original_price,o1_0.sku_sn,o1_0.status,o1_0.unit,o1_0.weight from goods_product o1_0 where o1_0.goods_id=?
2024-11-13 10:44:54.773 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.goods_id,o1_0.id,o1_0.barcode,o1_0.commission_ratio,o1_0.creator_id,o1_0.creator_name,o1_0.free_threshold,o1_0.gmt_create,o1_0.gmt_modified,o1_0.modifier_id,o1_0.modifier_name,o1_0.name,o1_0.origin_place,o1_0.original_price,o1_0.sku_sn,o1_0.status,o1_0.unit,o1_0.weight from goods_product o1_0 where o1_0.goods_id=?
2024-11-13 10:44:54.823 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.goods_id,o1_0.id,o1_0.barcode,o1_0.commission_ratio,o1_0.creator_id,o1_0.creator_name,o1_0.free_threshold,o1_0.gmt_create,o1_0.gmt_modified,o1_0.modifier_id,o1_0.modifier_name,o1_0.name,o1_0.origin_place,o1_0.original_price,o1_0.sku_sn,o1_0.status,o1_0.unit,o1_0.weight from goods_product o1_0 where o1_0.goods_id=?
2024-11-13 10:44:54.872 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.goods_id,o1_0.id,o1_0.barcode,o1_0.commission_ratio,o1_0.creator_id,o1_0.creator_name,o1_0.free_threshold,o1_0.gmt_create,o1_0.gmt_modified,o1_0.modifier_id,o1_0.modifier_name,o1_0.name,o1_0.origin_place,o1_0.original_price,o1_0.sku_sn,o1_0.status,o1_0.unit,o1_0.weight from goods_product o1_0 where o1_0.goods_id=?
2024-11-13 10:44:54.923 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.goods_id,o1_0.id,o1_0.barcode,o1_0.commission_ratio,o1_0.creator_id,o1_0.creator_name,o1_0.free_threshold,o1_0.gmt_create,o1_0.gmt_modified,o1_0.modifier_id,o1_0.modifier_name,o1_0.name,o1_0.origin_place,o1_0.original_price,o1_0.sku_sn,o1_0.status,o1_0.unit,o1_0.weight from goods_product o1_0 where o1_0.goods_id=?
2024-11-13 11:52:34.637 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-13 11:52:34.672 [main] INFO  c.e.x.j.p.controller.AdminProductControllerTest - Starting AdminProductControllerTest using Java 17.0.10 with PID 21612 (started by 刘智文 in D:\JAVA\productdemoaop1\productdemoaop)
2024-11-13 11:52:34.672 [main] DEBUG c.e.x.j.p.controller.AdminProductControllerTest - Running with Spring Boot v3.1.4, Spring v6.0.12
2024-11-13 11:52:34.673 [main] INFO  c.e.x.j.p.controller.AdminProductControllerTest - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:52:35.527 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:52:35.584 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 1 JPA repository interfaces.
2024-11-13 11:52:35.660 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'productRepository' and 'cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository' mapperInterface. Bean already defined with the same name!
2024-11-13 11:52:36.352 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-11-13 11:52:37.405 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:52:37.546 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2024-11-13 11:52:37.556 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-13 11:52:37.698 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 11:52:37.813 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:52:38.139 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 11:52:38.792 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-11-13 11:52:38.795 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:52:39.363 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:52:39.951 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:52:40.600 [main] INFO  o.s.b.test.mock.web.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-11-13 11:52:40.600 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Initializing Servlet ''
2024-11-13 11:52:40.606 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 13 endpoint(s) beneath base path '/actuator'
2024-11-13 11:52:40.622 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Completed initialization in 20 ms
2024-11-13 11:52:40.667 [main] INFO  c.e.x.j.p.controller.AdminProductControllerTest - Started AdminProductControllerTest in 6.205 seconds (process running for 7.14)
2024-11-13 11:52:41.485 [main] DEBUG c.e.x.j.p.m.g.P.updateByPrimaryKeySelective - ==>  Preparing: UPDATE goods_product SET `name` = ?, `original_price` = ?, `modifier_id` = ?, `gmt_modified` = ?, `status` = ? WHERE (`id` = ?)
2024-11-13 11:52:41.508 [main] DEBUG c.e.x.j.p.m.g.P.updateByPrimaryKeySelective - ==> Parameters: 奶糖(String), 200(Long), 1580(Long), 2024-11-13T11:52:41.471421600(LocalDateTime), 0(Byte), 1580(Long)
2024-11-13 11:52:41.612 [main] DEBUG c.e.x.j.p.m.g.P.updateByPrimaryKeySelective - <==    Updates: 1
2024-11-13 11:52:41.660 [main] DEBUG c.e.x.j.p.controller.AdminProductController - getProductById: id = 1580 
2024-11-13 11:52:41.660 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById: id = 1580, all = false
2024-11-13 11:52:41.661 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==>  Preparing: select `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` from goods_product where `id` = ?
2024-11-13 11:52:41.662 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==> Parameters: 1580(Long)
2024-11-13 11:52:41.734 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - <==      Total: 1
2024-11-13 11:52:41.905 [main] DEBUG c.e.x.j.p.m.g.P.updateByPrimaryKeySelective - ==>  Preparing: UPDATE goods_product SET `name` = ?, `original_price` = ?, `modifier_id` = ?, `gmt_modified` = ?, `status` = ? WHERE (`id` = ?)
2024-11-13 11:52:41.907 [main] DEBUG c.e.x.j.p.m.g.P.updateByPrimaryKeySelective - ==> Parameters: 奶糖(String), 200(Long), 158011(Long), 2024-11-13T11:52:41.905557(LocalDateTime), 0(Byte), 158011(Long)
2024-11-13 11:52:42.000 [main] DEBUG c.e.x.j.p.m.g.P.updateByPrimaryKeySelective - <==    Updates: 0
2024-11-13 11:52:42.001 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-11-13 11:52:42.150 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.deleteByPrimaryKey - ==>  Preparing: delete from goods_product where `id` = ?
2024-11-13 11:52:42.151 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.deleteByPrimaryKey - ==> Parameters: 1580(Long)
2024-11-13 11:52:42.245 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.deleteByPrimaryKey - <==    Updates: 1
2024-11-13 11:52:42.247 [main] DEBUG c.e.x.j.p.controller.AdminProductController - getProductById: id = 1580 
2024-11-13 11:52:42.247 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById: id = 1580, all = false
2024-11-13 11:52:42.247 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==>  Preparing: select `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` from goods_product where `id` = ?
2024-11-13 11:52:42.248 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==> Parameters: 1580(Long)
2024-11-13 11:52:42.295 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - <==      Total: 0
2024-11-13 11:52:42.296 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-11-13 11:52:42.449 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.deleteByPrimaryKey - ==>  Preparing: delete from goods_product where `id` = ?
2024-11-13 11:52:42.450 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.deleteByPrimaryKey - ==> Parameters: 1580112(Long)
2024-11-13 11:52:42.543 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.deleteByPrimaryKey - <==    Updates: 0
2024-11-13 11:52:42.543 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-11-13 11:52:42.707 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.insertSelective - ==>  Preparing: INSERT INTO goods_product (`name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `gmt_create`, `status`) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2024-11-13 11:52:42.708 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.insertSelective - ==> Parameters: 水果糖(String), 100(Long), 807(Long), 1234455(String), 盒(String), 长沙(String), 2024-11-13T11:52:42.707604500(LocalDateTime), 0(Byte)
2024-11-13 11:52:42.803 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.insertSelective - <==    Updates: 1
2024-11-13 11:52:42.803 [main] DEBUG c.e.x.j.p.m.g.P.insertSelective!selectKey - ==>  Preparing: SELECT LAST_INSERT_ID()
2024-11-13 11:52:42.803 [main] DEBUG c.e.x.j.p.m.g.P.insertSelective!selectKey - ==> Parameters: 
2024-11-13 11:52:42.852 [main] DEBUG c.e.x.j.p.m.g.P.insertSelective!selectKey - <==      Total: 1
2024-11-13 11:52:42.874 [main] DEBUG c.e.x.j.p.controller.AdminProductController - getProductById: id = 5477 
2024-11-13 11:52:42.874 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById: id = 5477, all = false
2024-11-13 11:52:42.875 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==>  Preparing: select `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` from goods_product where `id` = ?
2024-11-13 11:52:42.875 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==> Parameters: 5477(Long)
2024-11-13 11:52:42.925 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - <==      Total: 1
2024-11-13 11:52:43.104 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 11:52:43.105 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 奥利奥缤纷双果味(String)
2024-11-13 11:52:43.159 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 1
2024-11-13 11:52:43.323 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 11:52:43.324 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 奥(String)
2024-11-13 11:52:43.381 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 0
2024-11-13 11:52:43.526 [main] DEBUG c.e.x.j.p.controller.AdminProductController - getProductById: id = 1550 
2024-11-13 11:52:43.526 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById: id = 1550, all = false
2024-11-13 11:52:43.526 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==>  Preparing: select `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` from goods_product where `id` = ?
2024-11-13 11:52:43.527 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==> Parameters: 1550(Long)
2024-11-13 11:52:43.575 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - <==      Total: 1
2024-11-13 11:52:43.738 [main] DEBUG c.e.x.j.p.controller.AdminProductController - getProductById: id = 1550122 
2024-11-13 11:52:43.738 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById: id = 1550122, all = false
2024-11-13 11:52:43.739 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==>  Preparing: select `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` from goods_product where `id` = ?
2024-11-13 11:52:43.739 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==> Parameters: 1550122(Long)
2024-11-13 11:52:43.785 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - <==      Total: 0
2024-11-13 11:52:43.787 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-11-13 11:52:43.960 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 11:52:43.960 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 奥利奥缤纷双果味(String)
2024-11-13 11:52:44.015 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 1
2024-11-13 11:52:44.029 [main] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `product_id`, `price`, `begin_time`, `end_time`, `quantity`, `type`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `max_quantity`, `invalid` FROM goods_onsale WHERE ((`product_id` = ? and `begin_time` <= ? and `end_time` >= ?)) ORDER BY end_time DESC
2024-11-13 11:52:44.030 [main] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - ==> Parameters: 1559(Long), 2024-11-13T11:52:44.015381200(LocalDateTime), 2024-11-13T11:52:44.015381200(LocalDateTime)
2024-11-13 11:52:44.083 [main] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - <==      Total: 1
2024-11-13 11:52:44.085 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`goods_id` = ? and `id` <> ?))
2024-11-13 11:52:44.086 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 448(Long), 1559(Long)
2024-11-13 11:52:44.141 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 7
2024-11-13 11:52:44.306 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 11:52:44.307 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 奥(String)
2024-11-13 11:52:44.360 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 0
2024-11-13 11:52:44.524 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 11:52:44.525 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==> Parameters: 圣峰冰茶牙膏(String)
2024-11-13 11:52:44.590 [main] DEBUG c.e.x.j.p.m.m.P.selectLastOnSaleByProductId - ====>  Preparing: select `id`, `product_id`, `price`, `begin_time`, `end_time`, `quantity`, `max_quantity`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified` from goods_onsale where `product_id` = ? and `begin_time` <= NOW() and `end_time` > NOW()
2024-11-13 11:52:44.596 [main] DEBUG c.e.x.j.p.m.m.P.selectLastOnSaleByProductId - ====> Parameters: 1605(Long)
2024-11-13 11:52:44.647 [main] DEBUG c.e.x.j.p.m.m.P.selectLastOnSaleByProductId - <====      Total: 1
2024-11-13 11:52:44.648 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.selectOtherProduct - ====>  Preparing: select `id`, `goods_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified` from goods_product where `goods_id` = ?
2024-11-13 11:52:44.648 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.selectOtherProduct - ====> Parameters: 221(Long)
2024-11-13 11:52:44.700 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.selectOtherProduct - <====      Total: 4
2024-11-13 11:52:44.701 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - <==      Total: 1
2024-11-13 11:52:44.847 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 11:52:44.848 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==> Parameters: 奥(String)
2024-11-13 11:52:44.901 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - <==      Total: 0
2024-11-13 11:52:45.054 [main] DEBUG c.e.x.j.p.controller.ProductController - getProductById: id = 1550 
2024-11-13 11:52:45.054 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById: id = 1550, all = true
2024-11-13 11:52:45.054 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==>  Preparing: select `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` from goods_product where `id` = ?
2024-11-13 11:52:45.054 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==> Parameters: 1550(Long)
2024-11-13 11:52:45.110 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - <==      Total: 1
2024-11-13 11:52:45.111 [main] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `product_id`, `price`, `begin_time`, `end_time`, `quantity`, `type`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `max_quantity`, `invalid` FROM goods_onsale WHERE ((`product_id` = ? and `begin_time` <= ? and `end_time` >= ?)) ORDER BY end_time DESC
2024-11-13 11:52:45.111 [main] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - ==> Parameters: 1550(Long), 2024-11-13T11:52:45.110014400(LocalDateTime), 2024-11-13T11:52:45.110014400(LocalDateTime)
2024-11-13 11:52:45.163 [main] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - <==      Total: 1
2024-11-13 11:52:45.164 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`goods_id` = ? and `id` <> ?))
2024-11-13 11:52:45.164 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 447(Long), 1550(Long)
2024-11-13 11:52:45.221 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 9
2024-11-13 11:52:45.381 [main] DEBUG c.e.x.j.p.controller.ProductController - getProductById: id = 1550122 
2024-11-13 11:52:45.381 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById: id = 1550122, all = true
2024-11-13 11:52:45.382 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==>  Preparing: select `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` from goods_product where `id` = ?
2024-11-13 11:52:45.382 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==> Parameters: 1550122(Long)
2024-11-13 11:52:45.431 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - <==      Total: 0
2024-11-13 11:52:45.432 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-11-13 11:52:45.580 [main] DEBUG c.e.x.j.p.controller.ProductController - getProductById: id = 1574 
2024-11-13 11:52:45.580 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById_manual: id = 1574
2024-11-13 11:52:45.582 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`id` = ?))
2024-11-13 11:52:45.583 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==> Parameters: 1574(Long)
2024-11-13 11:52:45.641 [main] DEBUG c.e.x.j.p.m.m.P.selectLastOnSaleByProductId - ====>  Preparing: select `id`, `product_id`, `price`, `begin_time`, `end_time`, `quantity`, `max_quantity`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified` from goods_onsale where `product_id` = ? and `begin_time` <= NOW() and `end_time` > NOW()
2024-11-13 11:52:45.642 [main] DEBUG c.e.x.j.p.m.m.P.selectLastOnSaleByProductId - ====> Parameters: 1574(Long)
2024-11-13 11:52:45.694 [main] DEBUG c.e.x.j.p.m.m.P.selectLastOnSaleByProductId - <====      Total: 1
2024-11-13 11:52:45.694 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.selectOtherProduct - ====>  Preparing: select `id`, `goods_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified` from goods_product where `goods_id` = ?
2024-11-13 11:52:45.695 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.selectOtherProduct - ====> Parameters: 393(Long)
2024-11-13 11:52:45.747 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.selectOtherProduct - <====      Total: 7
2024-11-13 11:52:45.747 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - <==      Total: 1
2024-11-13 11:52:45.911 [main] DEBUG c.e.x.j.p.controller.ProductController - getProductById: id = 1550122 
2024-11-13 11:52:45.912 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById_manual: id = 1550122
2024-11-13 11:52:45.912 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`id` = ?))
2024-11-13 11:52:45.913 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==> Parameters: 1550122(Long)
2024-11-13 11:52:45.960 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - <==      Total: 0
2024-11-13 11:52:45.964 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-11-13 11:52:46.089 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:52:46.092 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-11-13 11:52:46.097 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-11-13 11:53:09.418 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-13 11:53:09.446 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Starting ProductDemoAOPApplication using Java 17.0.10 with PID 44704 (D:\JAVA\productdemoaop1\productdemoaop\target\classes started by 刘智文 in D:\JAVA\productdemoaop1\productdemoaop)
2024-11-13 11:53:09.446 [main] DEBUG c.e.x.j.productdemoaop.ProductDemoAOPApplication - Running with Spring Boot v3.1.4, Spring v6.0.12
2024-11-13 11:53:09.446 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:53:09.947 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:53:09.982 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 1 JPA repository interfaces.
2024-11-13 11:53:10.024 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'productRepository' and 'cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository' mapperInterface. Bean already defined with the same name!
2024-11-13 11:53:10.493 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-11-13 11:53:10.494 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.3.0] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.5]
2024-11-13 11:53:10.496 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.3.0] using APR version [1.7.4].
2024-11-13 11:53:10.500 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.13 30 Jan 2024]
2024-11-13 11:53:10.504 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-13 11:53:10.505 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:53:10.506 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2024-11-13 11:53:10.580 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:53:10.580 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1107 ms
2024-11-13 11:53:10.833 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-11-13 11:53:11.618 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:53:11.644 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2024-11-13 11:53:11.645 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-13 11:53:11.712 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 11:53:11.776 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:53:12.140 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 11:53:12.569 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-11-13 11:53:12.571 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:53:12.880 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:53:13.244 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:53:13.619 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 13 endpoint(s) beneath base path '/actuator'
2024-11-13 11:53:13.647 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-13 11:53:13.652 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2024-11-13 11:53:13.653 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:53:13.654 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-11-13 11:53:13.657 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-11-13 11:53:13.658 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2024-11-13 11:53:13.658 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-13 11:53:13.669 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2024-11-13 11:53:13.670 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-8080"]
2024-11-13 11:53:13.677 [main] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-13 11:53:13.687 [main] ERROR o.s.b.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2024-11-13 11:53:44.634 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-13 11:53:44.664 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Starting ProductDemoAOPApplication using Java 17.0.10 with PID 11384 (D:\JAVA\productdemoaop1\productdemoaop\target\classes started by 刘智文 in D:\JAVA\productdemoaop1\productdemoaop)
2024-11-13 11:53:44.664 [main] DEBUG c.e.x.j.productdemoaop.ProductDemoAOPApplication - Running with Spring Boot v3.1.4, Spring v6.0.12
2024-11-13 11:53:44.665 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-13 11:53:45.177 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 11:53:45.212 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 1 JPA repository interfaces.
2024-11-13 11:53:45.258 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'productRepository' and 'cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository' mapperInterface. Bean already defined with the same name!
2024-11-13 11:53:45.727 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-11-13 11:53:45.727 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.3.0] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.5]
2024-11-13 11:53:45.727 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.3.0] using APR version [1.7.4].
2024-11-13 11:53:45.730 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.13 30 Jan 2024]
2024-11-13 11:53:45.736 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-13 11:53:45.738 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 11:53:45.738 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2024-11-13 11:53:45.810 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 11:53:45.810 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1119 ms
2024-11-13 11:53:46.052 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-11-13 11:53:46.774 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 11:53:46.799 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2024-11-13 11:53:46.800 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-13 11:53:46.867 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 11:53:46.934 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 11:53:47.203 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 11:53:47.636 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-11-13 11:53:47.638 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 11:53:47.953 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 11:53:48.194 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 11:53:48.553 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 13 endpoint(s) beneath base path '/actuator'
2024-11-13 11:53:48.584 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-13 11:53:48.612 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-11-13 11:53:48.619 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Started ProductDemoAOPApplication in 4.193 seconds (process running for 4.551)
2024-11-13 11:54:03.591 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 11:54:03.592 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 11:54:03.593 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 11:54:03.720 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.barcode,p1_0.commission_ratio,p1_0.creator_id,p1_0.creator_name,p1_0.free_threshold,p1_0.gmt_create,p1_0.gmt_modified,p1_0.goods_id,p1_0.modifier_id,p1_0.modifier_name,p1_0.name,p1_0.origin_place,p1_0.original_price,p1_0.sku_sn,p1_0.status,p1_0.unit,p1_0.weight from goods_product p1_0 where p1_0.name like ? escape ''
2024-11-13 11:54:03.801 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select o1_0.product_id,o1_0.id,o1_0.begin_time,o1_0.creator_id,o1_0.creator_name,o1_0.end_time,o1_0.gmt_create,o1_0.gmt_modified,o1_0.max_quantity,o1_0.modifier_id,o1_0.modifier_name,o1_0.price,o1_0.quantity from goods_onsale o1_0 where o1_0.product_id=?
2024-11-13 11:54:03.879 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.barcode,p1_0.commission_ratio,p1_0.creator_id,p1_0.creator_name,p1_0.free_threshold,p1_0.gmt_create,p1_0.gmt_modified,p1_0.goods_id,p1_0.modifier_id,p1_0.modifier_name,p1_0.name,p1_0.origin_place,p1_0.original_price,p1_0.sku_sn,p1_0.status,p1_0.unit,p1_0.weight from goods_product p1_0 where p1_0.goods_id=? and p1_0.id!=?
2024-11-13 17:03:46.536 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-13 17:03:46.582 [main] INFO  c.e.x.j.p.controller.AdminProductControllerTest - Starting AdminProductControllerTest using Java 17.0.10 with PID 32680 (started by 刘智文 in D:\JAVA\productdemoaop1\productdemoaop)
2024-11-13 17:03:46.583 [main] DEBUG c.e.x.j.p.controller.AdminProductControllerTest - Running with Spring Boot v3.1.4, Spring v6.0.12
2024-11-13 17:03:46.584 [main] INFO  c.e.x.j.p.controller.AdminProductControllerTest - No active profile set, falling back to 1 default profile: "default"
2024-11-13 17:03:48.116 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 17:03:48.297 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 143 ms. Found 1 JPA repository interfaces.
2024-11-13 17:03:48.374 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'productRepository' and 'cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository' mapperInterface. Bean already defined with the same name!
2024-11-13 17:03:49.839 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-11-13 17:03:53.533 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 17:03:53.592 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2024-11-13 17:03:53.593 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-13 17:03:53.729 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 17:03:53.859 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 17:03:54.330 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 17:03:54.914 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-11-13 17:03:54.916 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 17:03:56.405 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 17:03:57.771 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 17:03:59.771 [main] INFO  o.s.b.test.mock.web.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-11-13 17:03:59.772 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Initializing Servlet ''
2024-11-13 17:03:59.786 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 13 endpoint(s) beneath base path '/actuator'
2024-11-13 17:03:59.813 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Completed initialization in 37 ms
2024-11-13 17:03:59.940 [main] INFO  c.e.x.j.p.controller.AdminProductControllerTest - Started AdminProductControllerTest in 13.677 seconds (process running for 14.693)
2024-11-13 17:04:01.742 [main] DEBUG c.e.x.j.p.m.g.P.updateByPrimaryKeySelective - ==>  Preparing: UPDATE goods_product SET `name` = ?, `original_price` = ?, `modifier_id` = ?, `gmt_modified` = ?, `status` = ? WHERE (`id` = ?)
2024-11-13 17:04:01.763 [main] DEBUG c.e.x.j.p.m.g.P.updateByPrimaryKeySelective - ==> Parameters: 奶糖(String), 200(Long), 1580(Long), 2024-11-13T17:04:01.725668(LocalDateTime), 0(Byte), 1580(Long)
2024-11-13 17:04:02.386 [main] DEBUG c.e.x.j.p.m.g.P.updateByPrimaryKeySelective - <==    Updates: 1
2024-11-13 17:04:02.463 [main] DEBUG c.e.x.j.p.controller.AdminProductController - getProductById: id = 1580 
2024-11-13 17:04:02.466 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById: id = 1580, all = false
2024-11-13 17:04:02.473 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==>  Preparing: select `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` from goods_product where `id` = ?
2024-11-13 17:04:02.474 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==> Parameters: 1580(Long)
2024-11-13 17:04:02.817 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - <==      Total: 1
2024-11-13 17:04:05.208 [main] DEBUG c.e.x.j.p.m.g.P.updateByPrimaryKeySelective - ==>  Preparing: UPDATE goods_product SET `name` = ?, `original_price` = ?, `modifier_id` = ?, `gmt_modified` = ?, `status` = ? WHERE (`id` = ?)
2024-11-13 17:04:05.209 [main] DEBUG c.e.x.j.p.m.g.P.updateByPrimaryKeySelective - ==> Parameters: 奶糖(String), 200(Long), 158011(Long), 2024-11-13T17:04:05.207209900(LocalDateTime), 0(Byte), 158011(Long)
2024-11-13 17:04:05.429 [main] DEBUG c.e.x.j.p.m.g.P.updateByPrimaryKeySelective - <==    Updates: 0
2024-11-13 17:04:05.431 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-11-13 17:04:06.342 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.deleteByPrimaryKey - ==>  Preparing: delete from goods_product where `id` = ?
2024-11-13 17:04:06.343 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.deleteByPrimaryKey - ==> Parameters: 1580(Long)
2024-11-13 17:04:07.050 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.deleteByPrimaryKey - <==    Updates: 1
2024-11-13 17:04:07.055 [main] DEBUG c.e.x.j.p.controller.AdminProductController - getProductById: id = 1580 
2024-11-13 17:04:07.055 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById: id = 1580, all = false
2024-11-13 17:04:07.056 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==>  Preparing: select `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` from goods_product where `id` = ?
2024-11-13 17:04:07.056 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==> Parameters: 1580(Long)
2024-11-13 17:04:07.136 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - <==      Total: 0
2024-11-13 17:04:07.138 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-11-13 17:04:07.762 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.deleteByPrimaryKey - ==>  Preparing: delete from goods_product where `id` = ?
2024-11-13 17:04:07.763 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.deleteByPrimaryKey - ==> Parameters: 1580112(Long)
2024-11-13 17:04:07.897 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.deleteByPrimaryKey - <==    Updates: 0
2024-11-13 17:04:07.898 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-11-13 17:04:08.532 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.insertSelective - ==>  Preparing: INSERT INTO goods_product (`name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `gmt_create`, `status`) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2024-11-13 17:04:08.533 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.insertSelective - ==> Parameters: 水果糖(String), 100(Long), 807(Long), 1234455(String), 盒(String), 长沙(String), 2024-11-13T17:04:08.532456800(LocalDateTime), 0(Byte)
2024-11-13 17:04:08.653 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.insertSelective - <==    Updates: 1
2024-11-13 17:04:08.654 [main] DEBUG c.e.x.j.p.m.g.P.insertSelective!selectKey - ==>  Preparing: SELECT LAST_INSERT_ID()
2024-11-13 17:04:08.655 [main] DEBUG c.e.x.j.p.m.g.P.insertSelective!selectKey - ==> Parameters: 
2024-11-13 17:04:08.792 [main] DEBUG c.e.x.j.p.m.g.P.insertSelective!selectKey - <==      Total: 1
2024-11-13 17:04:08.821 [main] DEBUG c.e.x.j.p.controller.AdminProductController - getProductById: id = 5481 
2024-11-13 17:04:08.821 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById: id = 5481, all = false
2024-11-13 17:04:08.822 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==>  Preparing: select `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` from goods_product where `id` = ?
2024-11-13 17:04:08.822 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==> Parameters: 5481(Long)
2024-11-13 17:04:08.872 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - <==      Total: 1
2024-11-13 17:04:09.939 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 17:04:09.940 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 奥利奥缤纷双果味(String)
2024-11-13 17:04:10.128 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 1
2024-11-13 17:04:11.233 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 17:04:11.234 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 奥(String)
2024-11-13 17:04:11.331 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 0
2024-11-13 17:04:11.547 [main] DEBUG c.e.x.j.p.controller.AdminProductController - getProductById: id = 1550 
2024-11-13 17:04:11.547 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById: id = 1550, all = false
2024-11-13 17:04:11.548 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==>  Preparing: select `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` from goods_product where `id` = ?
2024-11-13 17:04:11.548 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==> Parameters: 1550(Long)
2024-11-13 17:04:11.694 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - <==      Total: 1
2024-11-13 17:04:12.053 [main] DEBUG c.e.x.j.p.controller.AdminProductController - getProductById: id = 1550122 
2024-11-13 17:04:12.053 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById: id = 1550122, all = false
2024-11-13 17:04:12.054 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==>  Preparing: select `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` from goods_product where `id` = ?
2024-11-13 17:04:12.054 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==> Parameters: 1550122(Long)
2024-11-13 17:04:12.411 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - <==      Total: 0
2024-11-13 17:04:12.413 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-11-13 17:04:13.905 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 17:04:13.906 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 奥利奥缤纷双果味(String)
2024-11-13 17:04:13.980 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 1
2024-11-13 17:04:13.987 [main] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `product_id`, `price`, `begin_time`, `end_time`, `quantity`, `type`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `max_quantity`, `invalid` FROM goods_onsale WHERE ((`product_id` = ? and `begin_time` <= ? and `end_time` >= ?)) ORDER BY end_time DESC
2024-11-13 17:04:13.988 [main] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - ==> Parameters: 1559(Long), 2024-11-13T17:04:13.980635300(LocalDateTime), 2024-11-13T17:04:13.980635300(LocalDateTime)
2024-11-13 17:04:14.541 [main] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - <==      Total: 1
2024-11-13 17:04:14.545 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`goods_id` = ? and `id` <> ?))
2024-11-13 17:04:14.547 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 448(Long), 1559(Long)
2024-11-13 17:04:14.612 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 7
2024-11-13 17:04:15.991 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 17:04:15.991 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 奥(String)
2024-11-13 17:04:16.094 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 0
2024-11-13 17:04:16.907 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 17:04:16.908 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==> Parameters: 圣峰冰茶牙膏(String)
2024-11-13 17:04:16.964 [main] DEBUG c.e.x.j.p.m.m.P.selectLastOnSaleByProductId - ====>  Preparing: select `id`, `product_id`, `price`, `begin_time`, `end_time`, `quantity`, `max_quantity`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified` from goods_onsale where `product_id` = ? and `begin_time` <= NOW() and `end_time` > NOW()
2024-11-13 17:04:16.965 [main] DEBUG c.e.x.j.p.m.m.P.selectLastOnSaleByProductId - ====> Parameters: 1605(Long)
2024-11-13 17:04:17.085 [main] DEBUG c.e.x.j.p.m.m.P.selectLastOnSaleByProductId - <====      Total: 1
2024-11-13 17:04:17.086 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.selectOtherProduct - ====>  Preparing: select `id`, `goods_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified` from goods_product where `goods_id` = ?
2024-11-13 17:04:17.086 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.selectOtherProduct - ====> Parameters: 221(Long)
2024-11-13 17:04:17.430 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.selectOtherProduct - <====      Total: 4
2024-11-13 17:04:17.431 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - <==      Total: 1
2024-11-13 17:04:18.001 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 17:04:18.003 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==> Parameters: 奥(String)
2024-11-13 17:04:18.065 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - <==      Total: 0
2024-11-13 17:04:18.563 [main] DEBUG c.e.x.j.p.controller.ProductController - getProductById: id = 1550 
2024-11-13 17:04:18.564 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById: id = 1550, all = true
2024-11-13 17:04:18.564 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==>  Preparing: select `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` from goods_product where `id` = ?
2024-11-13 17:04:18.565 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==> Parameters: 1550(Long)
2024-11-13 17:04:18.982 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - <==      Total: 1
2024-11-13 17:04:18.983 [main] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `product_id`, `price`, `begin_time`, `end_time`, `quantity`, `type`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `max_quantity`, `invalid` FROM goods_onsale WHERE ((`product_id` = ? and `begin_time` <= ? and `end_time` >= ?)) ORDER BY end_time DESC
2024-11-13 17:04:18.983 [main] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - ==> Parameters: 1550(Long), 2024-11-13T17:04:18.982190800(LocalDateTime), 2024-11-13T17:04:18.982190800(LocalDateTime)
2024-11-13 17:04:19.058 [main] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - <==      Total: 1
2024-11-13 17:04:19.060 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`goods_id` = ? and `id` <> ?))
2024-11-13 17:04:19.060 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 447(Long), 1550(Long)
2024-11-13 17:04:19.124 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 9
2024-11-13 17:04:19.954 [main] DEBUG c.e.x.j.p.controller.ProductController - getProductById: id = 1550122 
2024-11-13 17:04:19.954 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById: id = 1550122, all = true
2024-11-13 17:04:19.955 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==>  Preparing: select `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` from goods_product where `id` = ?
2024-11-13 17:04:19.955 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - ==> Parameters: 1550122(Long)
2024-11-13 17:04:20.380 [main] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByPrimaryKey - <==      Total: 0
2024-11-13 17:04:20.380 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-11-13 17:04:20.585 [main] DEBUG c.e.x.j.p.controller.ProductController - getProductById: id = 1574 
2024-11-13 17:04:20.586 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById_manual: id = 1574
2024-11-13 17:04:20.586 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`id` = ?))
2024-11-13 17:04:20.586 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==> Parameters: 1574(Long)
2024-11-13 17:04:20.640 [main] DEBUG c.e.x.j.p.m.m.P.selectLastOnSaleByProductId - ====>  Preparing: select `id`, `product_id`, `price`, `begin_time`, `end_time`, `quantity`, `max_quantity`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified` from goods_onsale where `product_id` = ? and `begin_time` <= NOW() and `end_time` > NOW()
2024-11-13 17:04:20.640 [main] DEBUG c.e.x.j.p.m.m.P.selectLastOnSaleByProductId - ====> Parameters: 1574(Long)
2024-11-13 17:04:20.698 [main] DEBUG c.e.x.j.p.m.m.P.selectLastOnSaleByProductId - <====      Total: 1
2024-11-13 17:04:20.698 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.selectOtherProduct - ====>  Preparing: select `id`, `goods_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified` from goods_product where `goods_id` = ?
2024-11-13 17:04:20.698 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.selectOtherProduct - ====> Parameters: 393(Long)
2024-11-13 17:04:20.777 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.selectOtherProduct - <====      Total: 7
2024-11-13 17:04:20.777 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - <==      Total: 1
2024-11-13 17:04:20.961 [main] DEBUG c.e.x.j.p.controller.ProductController - getProductById: id = 1550122 
2024-11-13 17:04:20.962 [main] DEBUG c.e.x.javaee.productdemoaop.service.ProductService - findProductById_manual: id = 1550122
2024-11-13 17:04:20.962 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`id` = ?))
2024-11-13 17:04:20.963 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - ==> Parameters: 1550122(Long)
2024-11-13 17:04:21.359 [main] DEBUG c.e.x.j.p.m.m.ProductAllMapper.getProductWithAll - <==      Total: 0
2024-11-13 17:04:21.362 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-11-13 17:04:21.630 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 17:04:21.636 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-11-13 17:04:21.640 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-11-13 17:04:37.216 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-13 17:04:37.256 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Starting ProductDemoAOPApplication using Java 17.0.10 with PID 15596 (D:\JAVA\productdemoaop1\productdemoaop\target\classes started by 刘智文 in D:\JAVA\productdemoaop1\productdemoaop)
2024-11-13 17:04:37.256 [main] DEBUG c.e.x.j.productdemoaop.ProductDemoAOPApplication - Running with Spring Boot v3.1.4, Spring v6.0.12
2024-11-13 17:04:37.256 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-13 17:04:37.945 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-13 17:04:37.985 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 1 JPA repository interfaces.
2024-11-13 17:04:38.035 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'productRepository' and 'cn.edu.xmu.javaee.productdemoaop.mapper.jpa.ProductRepository' mapperInterface. Bean already defined with the same name!
2024-11-13 17:04:38.618 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-11-13 17:04:38.618 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.3.0] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.5]
2024-11-13 17:04:38.618 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.3.0] using APR version [1.7.4].
2024-11-13 17:04:38.622 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.13 30 Jan 2024]
2024-11-13 17:04:38.626 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-13 17:04:38.630 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-11-13 17:04:38.630 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2024-11-13 17:04:38.716 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-13 17:04:38.717 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1425 ms
2024-11-13 17:04:39.020 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-11-13 17:04:43.595 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-13 17:04:43.624 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2024-11-13 17:04:43.625 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2024-11-13 17:04:43.713 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 17:04:43.795 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-13 17:04:44.777 [main] INFO  o.h.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2024-11-13 17:04:45.553 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-11-13 17:04:45.557 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-13 17:04:46.160 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-13 17:04:46.666 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-13 17:04:47.338 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 13 endpoint(s) beneath base path '/actuator'
2024-11-13 17:04:47.395 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-13 17:04:47.417 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-11-13 17:04:47.433 [main] INFO  c.e.x.j.productdemoaop.ProductDemoAOPApplication - Started ProductDemoAOPApplication in 10.519 seconds (process running for 10.984)
2024-11-13 17:05:03.236 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-13 17:05:03.236 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-13 17:05:03.237 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-13 17:05:03.425 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.barcode,p1_0.commission_ratio,p1_0.creator_id,p1_0.creator_name,p1_0.free_threshold,p1_0.gmt_create,p1_0.gmt_modified,p1_0.goods_id,p1_0.modifier_id,p1_0.modifier_name,p1_0.name,p1_0.origin_place,p1_0.original_price,p1_0.sku_sn,p1_0.status,p1_0.unit,p1_0.weight from goods_product p1_0 where p1_0.name like ? escape ''
2024-11-13 17:05:03.590 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select o1_0.product_id,o1_0.id,o1_0.begin_time,o1_0.creator_id,o1_0.creator_name,o1_0.end_time,o1_0.gmt_create,o1_0.gmt_modified,o1_0.max_quantity,o1_0.modifier_id,o1_0.modifier_name,o1_0.price,o1_0.quantity from goods_onsale o1_0 where o1_0.product_id=?
2024-11-13 17:05:03.661 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.barcode,p1_0.commission_ratio,p1_0.creator_id,p1_0.creator_name,p1_0.free_threshold,p1_0.gmt_create,p1_0.gmt_modified,p1_0.goods_id,p1_0.modifier_id,p1_0.modifier_name,p1_0.name,p1_0.origin_place,p1_0.original_price,p1_0.sku_sn,p1_0.status,p1_0.unit,p1_0.weight from goods_product p1_0 where p1_0.goods_id=? and p1_0.id!=?
2024-11-13 17:06:28.218 [http-nio-8080-exec-19] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`name` = ?))
2024-11-13 17:06:28.225 [http-nio-8080-exec-19] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 欢乐家岭南杂果罐头(String)
2024-11-13 17:06:30.015 [http-nio-8080-exec-19] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 1
2024-11-13 17:06:30.020 [http-nio-8080-exec-19] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `product_id`, `price`, `begin_time`, `end_time`, `quantity`, `type`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `max_quantity`, `invalid` FROM goods_onsale WHERE ((`product_id` = ? and `begin_time` <= ? and `end_time` >= ?)) ORDER BY end_time DESC
2024-11-13 17:06:30.020 [http-nio-8080-exec-19] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - ==> Parameters: 1553(Long), 2024-11-13T17:06:30.016790700(LocalDateTime), 2024-11-13T17:06:30.016790700(LocalDateTime)
2024-11-13 17:06:30.499 [http-nio-8080-exec-19] DEBUG c.e.x.j.p.m.g.OnSalePoMapper.selectByExample - <==      Total: 1
2024-11-13 17:06:30.500 [http-nio-8080-exec-19] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==>  Preparing: SELECT `id`, `shop_id`, `goods_id`, `category_id`, `template_id`, `sku_sn`, `name`, `original_price`, `weight`, `barcode`, `unit`, `origin_place`, `creator_id`, `creator_name`, `modifier_id`, `modifier_name`, `gmt_create`, `gmt_modified`, `status`, `commission_ratio`, `shop_logistic_id`, `free_threshold` FROM goods_product WHERE ((`goods_id` = ? and `id` <> ?))
2024-11-13 17:06:30.501 [http-nio-8080-exec-19] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - ==> Parameters: 12(Long), 1553(Long)
2024-11-13 17:06:30.605 [http-nio-8080-exec-19] DEBUG c.e.x.j.p.m.g.ProductPoMapper.selectByExample - <==      Total: 14
2024-11-13 17:12:42.752 [http-nio-8080-exec-26] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.barcode,p1_0.commission_ratio,p1_0.creator_id,p1_0.creator_name,p1_0.free_threshold,p1_0.gmt_create,p1_0.gmt_modified,p1_0.goods_id,p1_0.modifier_id,p1_0.modifier_name,p1_0.name,p1_0.origin_place,p1_0.original_price,p1_0.sku_sn,p1_0.status,p1_0.unit,p1_0.weight from goods_product p1_0 where p1_0.name like ? escape ''
2024-11-13 17:12:42.811 [http-nio-8080-exec-26] DEBUG org.hibernate.SQL - select o1_0.product_id,o1_0.id,o1_0.begin_time,o1_0.creator_id,o1_0.creator_name,o1_0.end_time,o1_0.gmt_create,o1_0.gmt_modified,o1_0.max_quantity,o1_0.modifier_id,o1_0.modifier_name,o1_0.price,o1_0.quantity from goods_onsale o1_0 where o1_0.product_id=?
2024-11-13 17:12:42.868 [http-nio-8080-exec-26] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.barcode,p1_0.commission_ratio,p1_0.creator_id,p1_0.creator_name,p1_0.free_threshold,p1_0.gmt_create,p1_0.gmt_modified,p1_0.goods_id,p1_0.modifier_id,p1_0.modifier_name,p1_0.name,p1_0.origin_place,p1_0.original_price,p1_0.sku_sn,p1_0.status,p1_0.unit,p1_0.weight from goods_product p1_0 where p1_0.goods_id=? and p1_0.id!=?
2024-11-13 17:12:48.137 [http-nio-8080-exec-32] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.barcode,p1_0.commission_ratio,p1_0.creator_id,p1_0.creator_name,p1_0.free_threshold,p1_0.gmt_create,p1_0.gmt_modified,p1_0.goods_id,p1_0.modifier_id,p1_0.modifier_name,p1_0.name,p1_0.origin_place,p1_0.original_price,p1_0.sku_sn,p1_0.status,p1_0.unit,p1_0.weight from goods_product p1_0 where p1_0.name like ? escape ''
2024-11-13 17:12:48.246 [http-nio-8080-exec-32] DEBUG org.hibernate.SQL - select o1_0.product_id,o1_0.id,o1_0.begin_time,o1_0.creator_id,o1_0.creator_name,o1_0.end_time,o1_0.gmt_create,o1_0.gmt_modified,o1_0.max_quantity,o1_0.modifier_id,o1_0.modifier_name,o1_0.price,o1_0.quantity from goods_onsale o1_0 where o1_0.product_id=?
2024-11-13 17:12:48.306 [http-nio-8080-exec-32] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.barcode,p1_0.commission_ratio,p1_0.creator_id,p1_0.creator_name,p1_0.free_threshold,p1_0.gmt_create,p1_0.gmt_modified,p1_0.goods_id,p1_0.modifier_id,p1_0.modifier_name,p1_0.name,p1_0.origin_place,p1_0.original_price,p1_0.sku_sn,p1_0.status,p1_0.unit,p1_0.weight from goods_product p1_0 where p1_0.goods_id=? and p1_0.id!=?
